# ヘビアセットの要件と構造ガイド

## 🎯 変身に必要なアセットの要件

### 基本要件

1. **BasePartが含まれている**
   - Part、MeshPart、またはUnionOperationなど
   - Meshだけでは表示されない

2. **Humanoidが含まれていない（推奨）**
   - 含まれている場合は削除可能であること
   - プレイヤーの既存のHumanoidを使用するため

3. **適切なサイズ**
   - 極端に大きすぎない、小さすぎない
   - 後でコードでサイズ調整可能

4. **シンプルな構造（推奨）**
   - パーツ数が少ない（パフォーマンスのため）
   - 複雑すぎない構造

## 📐 推奨されるアセット構造

### 構造1: Model > MeshPart > Mesh（最推奨）

```
SnakeModel (Model)
  └── SnakeBody (MeshPart)
      └── Mesh (Mesh Component)
          └── MeshId: [ヘビの形状データへの参照]
```

**メリット**:
- ✅ パフォーマンスが良い
- ✅ シンプルで扱いやすい
- ✅ サイズ調整が容易

**確認方法**:
1. ExplorerパネルでSnakeModelを展開
2. MeshPartが存在することを確認
3. MeshPart内にMeshコンポーネントがあることを確認

### 構造2: Model > Part > Mesh

```
SnakeModel (Model)
  └── SnakeBody (Part)
      └── Mesh (Mesh Component)
          └── MeshId: [ヘビの形状データへの参照]
```

**メリット**:
- ✅ 汎用的な構造
- ✅ 柔軟性が高い

**デメリット**:
- ⚠️ MeshPartよりパフォーマンスが劣る場合がある

### 構造3: Model > 複数のPart（複雑な構造）

```
SnakeModel (Model)
  ├── Head (Part)
  ├── Body1 (Part)
  ├── Body2 (Part)
  └── Tail (Part)
```

**メリット**:
- ✅ より詳細な形状が可能
- ✅ アニメーションが容易（将来的に）

**デメリット**:
- ⚠️ パフォーマンスへの影響
- ⚠️ サイズ調整が複雑

**推奨度**: MVPでは非推奨（将来的に検討）

## ❌ 避けるべき構造

### 構造1: Meshのみ

```
SnakeModel (Model)
  └── Mesh (Mesh Componentのみ)
```

**問題点**:
- ❌ BasePartがないため表示されない
- ❌ コードで検出できない

### 構造2: Humanoidが含まれている

```
SnakeModel (Model)
  ├── Humanoid (削除が必要)
  └── MeshPart
```

**問題点**:
- ⚠️ プレイヤーの既存のHumanoidと競合する可能性
- ⚠️ 削除処理が必要

**対処法**: コードで自動的に削除する処理を実装済み

### 構造3: アニメーションが含まれている

```
SnakeModel (Model)
  ├── Animations (フォルダ)
  │   └── [アニメーション]
  └── MeshPart
```

**問題点**:
- ⚠️ MVPでは不要な複雑さ
- ⚠️ パフォーマンスへの影響

**対処法**: MVPでは削除を推奨（将来的に活用可能）

## 🔍 アセット選定のチェックリスト

### ツールボックスでアセットを選ぶ際の確認事項

1. **構造の確認**
   - [ ] Model内にBasePart（Part/MeshPart）があるか
   - [ ] Meshコンポーネントが正しく設定されているか
   - [ ] Humanoidが含まれていないか（含まれていても削除可能）

2. **サイズの確認**
   - [ ] 適切なサイズか（極端に大きすぎない、小さすぎない）
   - [ ] 後でサイズ調整可能か

3. **パフォーマンスの確認**
   - [ ] パーツ数が少ないか（10個以下が理想）
   - [ ] 複雑すぎない構造か

4. **見た目の確認**
   - [ ] ヘビらしい形状か
   - [ ] 色やマテリアルが適切か
   - [ ] 毒ヘビらしい見た目か

## 📋 アセットの準備手順

### ステップ1: ツールボックスでアセットを検索

1. **検索キーワード**:
   - `snake`
   - `ヘビ`
   - `poison snake`
   - `venomous snake`
   - `green snake`

2. **アセットを選択**:
   - プレビューを確認
   - 構造がシンプルなものを選ぶ

### ステップ2: アセットの構造を確認

1. **Workspaceに配置**
   - アセットをクリックしてWorkspaceに配置

2. **Explorerパネルで構造を確認**
   - Modelを展開
   - BasePartがあるか確認
   - Meshコンポーネントがあるか確認
   - Humanoidが含まれているか確認

### ステップ3: アセットの調整（必要に応じて）

1. **Humanoidの削除**
   - Humanoidが含まれている場合、削除

2. **アニメーションの削除（オプション）**
   - Animationsフォルダがある場合、MVPでは削除を推奨

3. **サイズの調整（オプション）**
   - 必要に応じてサイズを調整
   - 後でコードでサイズ調整されるため、基本的なサイズでOK

### ステップ4: ServerStorageに移動

1. **ServerStorageに移動**
   - アセットをServerStorageにドラッグ&ドロップ

2. **名前を変更**
   - アセット名を「SnakeModel」に変更
   - **重要**: コードが「SnakeModel」という名前を探す

## 🎨 理想的なアセットの例

### 例1: シンプルなMeshPart構造（最推奨）

```
SnakeModel (Model)
  └── SnakeBody (MeshPart)
      ├── Size: (4, 0.5, 8) - 細長い形状
      ├── Color: 緑系
      ├── Material: SmoothPlastic
      └── Mesh (Mesh Component)
          └── MeshId: [ヘビの形状データ]
```

### 例2: 複数のPart構造（将来的に）

```
SnakeModel (Model)
  ├── Head (Part)
  │   └── Mesh
  ├── Body1 (Part)
  │   └── Mesh
  ├── Body2 (Part)
  │   └── Mesh
  └── Tail (Part)
      └── Mesh
```

## 🐛 よくある問題と対処法

### 問題1: アセットが表示されない

**原因**: BasePartがない

**対処法**:
1. Explorerパネルで構造を確認
2. BasePart（Part/MeshPart）があるか確認
3. ない場合は、別のアセットを選ぶ

### 問題2: 位置がずれる

**原因**: モデルの原点が適切でない

**対処法**:
1. コードで位置を調整（実装済み）
2. 必要に応じて、モデルのPrimaryPartを設定

### 問題3: サイズが合わない

**原因**: アセットのサイズが極端

**対処法**:
1. コードでサイズ調整（実装済み）
2. 必要に応じて、アセットのサイズを事前に調整

## 📝 まとめ

### 最推奨の構造

```
SnakeModel (Model)
  └── MeshPart (または Part)
      └── Mesh (Mesh Component)
```

### 必須要件

1. ✅ BasePart（Part/MeshPart）が含まれている
2. ✅ Meshコンポーネントが設定されている
3. ✅ シンプルな構造（パーツ数が少ない）
4. ✅ 適切なサイズ

### 推奨事項

1. ⭐ Humanoidが含まれていない（または削除可能）
2. ⭐ アニメーションが含まれていない（MVPでは）
3. ⭐ パーツ数が少ない（10個以下）

この要件を満たすアセットを選べば、コードが正しく動作します！

